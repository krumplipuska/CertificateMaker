<html lang="en" style="--zoom: 1; --left-panel-width: 152px; --right-panel-width: 176px;"><head>
  <meta charset="utf-8">
  <title>Minimal A4 Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <!-- External libs for export (CDN). Works offline once loaded. -->
  <!-- <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script> -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="editor.core.js" defer=""></script>
  <script src="core.update.js" defer=""></script>
  <script src="selection.store.js" defer=""></script>
  <script src="style.map.js" defer=""></script>
  <script src="editor.selection.js" defer=""></script>
  <script src="editor.tables.js" defer=""></script>
  <script src="tables.ops.js" defer=""></script>
  <script src="persistence.service.js" defer=""></script>
  <script src="export.service.js" defer=""></script>
  <script src="userFunctions.js" defer=""></script>
  <script src="app.view.render.js" defer=""></script>
  <script src="editor.app.js" defer=""></script>
</head>
<body class="">
  <!-- Hub view (hidden by default). All documents are stored inline in __docs__ -->
  <div id="hubView" hidden="">
    <div id="hubHeader" class="hub-header">
      <div id="hubFileTitle" class="hub-title">The whole file(app) name (like index.html)</div>
      <div style="display:inline-flex;align-items:center;gap:6px">
        <button id="newDocBtn" class="btn" title="Create new document">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>
          <span>New</span>
        </button>
        <button id="hubSaveBtn" class="btn hub-save saving" title="Save this file" data-original-text="
          
          Save
        " aria-busy="true">Saving…</button>
        <div class="menu" style="position:relative">
          <button class="btn" id="hubMoreMenuBtn" title="More options" aria-haspopup="true" aria-expanded="false">
            <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><circle cx="5" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle></svg>
          </button>
          <div class="dropdown hidden" id="hubMoreMenu">
            <button id="hubSettingsBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 8a4 4 0 110 8 4 4 0 010-8z" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M4 12h2M18 12h2M12 4v2M12 18v2M6.2 6.2l1.4 1.4M16.4 16.4l1.4 1.4M17.8 6.2l-1.4 1.4M7.6 16.4l-1.4 1.4" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Settings</span></button>
          </div>
        </div>
      </div>
    </div>
    <div class="hub-panel">
      <div class="hub-actions" id="folderBar" aria-label="Folders">
        <button class="folder-pill active" data-fid="all" aria-current="page">
          <svg class="icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h6l2 2h10v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="currentColor"></path></svg>
          <span class="folder-name">All</span>
          
        </button>
        <button class="folder-pill" data-fid="fld-0f8c9e1b-2e3c-4bdd-bf05-5783261a9e93">
          <svg class="icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h6l2 2h10v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="currentColor"></path></svg>
          <span class="folder-name">templates</span>
          <span class="close-btn" title="Delete" aria-label="Delete">×</span>
        </button>
        <button class="folder-pill" data-fid="fld-66d952c9-8562-4623-a60e-bf5482144e13">
          <svg class="icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h6l2 2h10v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="currentColor"></path></svg>
          <span class="folder-name">qweqwe</span>
          <span class="close-btn" title="Delete" aria-label="Delete">×</span>
        </button><button class="folder-plus" id="addFolderBtn" title="New folder" aria-label="New folder">+
        </button></div>
      <div id="docList" class="doc-list" aria-label="Documents">
      <div class="doc-row" data-id="doc-d9dc5404-d3d9-469d-9abe-61140e0bb2a1" draggable="true">
        <div class="doc-name">othe i hate myself</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="doc-meta">9/26/2025, 6:55:46 AM</div>
          <div class="doc-actions">
            <button class="btn" data-act="open" title="Open"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 12h16M12 4l8 8-8 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>
            <button class="btn" data-act="rename" title="Rename"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor"></path></svg></button>
            <button class="btn" data-act="duplicate" title="Duplicate"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect></svg></button>
            <button class="btn" data-act="delete" title="Delete"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button>
          </div>
        </div>
      </div>
    
      <div class="doc-row" data-id="doc-8136ff21-a5ec-4549-b4f2-8ac6c1457958" draggable="true">
        <div class="doc-name">3fewf</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="doc-meta">9/23/2025, 5:43:41 AM</div>
          <div class="doc-actions">
            <button class="btn" data-act="open" title="Open"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 12h16M12 4l8 8-8 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>
            <button class="btn" data-act="rename" title="Rename"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor"></path></svg></button>
            <button class="btn" data-act="duplicate" title="Duplicate"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect></svg></button>
            <button class="btn" data-act="delete" title="Delete"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button>
          </div>
        </div>
      </div>
    
      <div class="doc-row" data-id="doc-128c87ef-c2b7-47af-930b-52f8a60a0bf1" draggable="true">
        <div class="doc-name">temp Docs</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="doc-meta">9/23/2025, 6:44:33 PM</div>
          <div class="doc-actions">
            <button class="btn" data-act="open" title="Open"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 12h16M12 4l8 8-8 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>
            <button class="btn" data-act="rename" title="Rename"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor"></path></svg></button>
            <button class="btn" data-act="duplicate" title="Duplicate"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect></svg></button>
            <button class="btn" data-act="delete" title="Delete"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect><path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button>
          </div>
        </div>
      </div>
    </div>
    </div>
    <script id="__docs__" type="application/json">{"catalog":[{"id":"doc-d9dc5404-d3d9-469d-9abe-61140e0bb2a1","name":"namostmivn","createdAt":1758645925268,"updatedAt":1758862691929},{"id":"doc-8136ff21-a5ec-4549-b4f2-8ac6c1457958","name":"3fewf","createdAt":1758482687374,"updatedAt":1758599021661,"folderId":null},{"id":"doc-128c87ef-c2b7-47af-930b-52f8a60a0bf1","name":"temp Docs","createdAt":1758645871235,"updatedAt":1758645873451}],"docs":{"doc-8136ff21-a5ec-4549-b4f2-8ac6c1457958":{"pages":[{"id":"page-1758482687374-3fc22","name":"Page 1","elements":[{"id":"el-4","type":"rect","x":29.440238894969866,"y":216.50780448652455,"w":160,"h":60,"z":1,"styles":{"fill":"#dbeafe","strokeColor":"#111827","strokeWidth":1,"radius":4,"textColor":"#111827","fontFamily":"system-ui","fontSize":14,"bold":false,"italic":false,"underline":false}}]}],"currentPageId":"page-1758482687374-3fc22","nextElementId":5,"editMode":true,"headerHeight":10,"footerHeight":10},"doc-128c87ef-c2b7-47af-930b-52f8a60a0bf1":{"pages":[{"id":"page-1758645871235-9o1ht","name":"Page 1","elements":[]}],"currentPageId":"page-1758645871235-9o1ht","nextElementId":1,"editMode":true,"headerHeight":10,"footerHeight":10},"doc-d9dc5404-d3d9-469d-9abe-61140e0bb2a1":{"pages":[{"id":"page-1758645925268-6kaag","name":"Page 1","elements":[{"id":"el-1","type":"rect","x":220.84375,"y":106.5,"w":411.87890625,"h":411.53125,"z":1,"styles":{"fill":"#dbeafe","strokeColor":"#111827","strokeWidth":1,"radius":4,"textColor":"#111827","fontFamily":"system-ui","fontSize":14,"bold":false,"italic":false,"underline":false},"content":"lefnlekfn3lkfn3klnf3pfoenpwen"}]}],"currentPageId":"page-1758645925268-6kaag","nextElementId":2,"editMode":true,"headerHeight":10,"footerHeight":10}},"folders":[{"id":"fld-0f8c9e1b-2e3c-4bdd-bf05-5783261a9e93","name":"templates","createdAt":1758645866148,"updatedAt":1758645868910},{"id":"fld-66d952c9-8562-4623-a60e-bf5482144e13","name":"qweqwe","createdAt":1758646968398,"updatedAt":1758646973699}],"docFolders":{"doc-128c87ef-c2b7-47af-930b-52f8a60a0bf1":"fld-0f8c9e1b-2e3c-4bdd-bf05-5783261a9e93","doc-d9dc5404-d3d9-469d-9abe-61140e0bb2a1":"fld-66d952c9-8562-4623-a60e-bf5482144e13"}}</script>
  </div>

  <div id="editorView">
  <!-- Top bar -->
  <div class="topbar">
    <div class="group">
      <button id="backToHubBtn" class="btn" title="Back to hub" aria-label="Back to hub">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M15 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
      </button>
    </div>
    <div class="group">
      <button id="editToggleBtn" class="btn" aria-pressed="true" title="Edit mode" aria-label="Edit mode"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor"></path><path d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="currentColor"></path></svg><span>Edit mode</span></button>
    </div>
    <div class="group">
      <button id="undoBtn" class="btn" title="Undo" aria-label="Undo">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          <path d="M9 8l-4 4 4 4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
      </button>
      <button id="redoBtn" class="btn" disabled="" title="Redo" aria-label="Redo">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          <path d="M15 8l4 4-4 4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
      </button>
    </div>
    <div class="group" id="viewToggles">
      <label class="switch"><input id="snapToggle" type="checkbox" checked=""><span>Snap</span></label>
      <!-- Guides & Minimap toggles temporarily removed per request -->
      <label class="switch" style="display:none"><input id="guidesToggle" type="checkbox"><span>Guides</span></label>
      <label class="switch" style="display:none"><input id="minimapToggle" type="checkbox"><span>Minimap</span></label>
      <label class="switch" style="display:none"><input id="rulersToggle" type="checkbox"><span>Rulers</span></label>
    </div>
    <div class="group" id="docTitleGroup">
      <div class="btn" style="gap:6px">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16v12H4z" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M4 10h16" stroke="currentColor" stroke-width="2"></path><path d="M8 14h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>
        <input id="docTitleInput" type="text" value="Untitled" aria-label="Document name" style="border:none;outline:none;background:transparent;color:#fff;max-width:360px">
      </div>
    </div>
    <div class="spacer"></div>
    <div class="group">
      <button id="saveBtn" class="btn saving" data-original-text="
        
          
          
        
        Save
      " aria-busy="true">Saving…</button>
      <div class="menu" style="position:relative">
        <button class="btn" id="moreMenuBtn" title="More options" aria-haspopup="true" aria-expanded="false">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><circle cx="5" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle></svg>
      </button>
        <div class="dropdown hidden" id="moreMenu">
          <button id="saveAsBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 5h12v14H5z" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M9 5v6h6V5" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M12 13v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M9 16h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Save As</span></button>
          <button id="savePdfBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 9l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 19h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Export PDF</span></button>
          <button id="exportPngBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 9l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 19h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Export PNG</span></button>
          <button id="exportJpgBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8 9l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 19h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Export JPG</span></button>
          <hr>
          <button id="settingsBtn" class="btn mini"><svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 8a4 4 0 110 8 4 4 0 010-8z" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M4 12h2M18 12h2M12 4v2M12 18v2M6.2 6.2l1.4 1.4M16.4 16.4l1.4 1.4M17.8 6.2l-1.4 1.4M7.6 16.4l-1.4 1.4" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><span>Settings</span></button>
        </div>
      </div>
    </div>
  </div>

  <div class="app">
    <aside class="side left" id="elementsPanel" style="width: 152px;">
      <div class="panel-header">
        <h3>Elements</h3>
        <button class="panel-toggle" id="elementsToggle" title="Collapse/Expand Elements Panel" aria-label="Toggle Elements Panel" data-dir="right">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M15 6l-6 6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>
      <div class="panel-content">
        <button class="btn add-el" data-add="text" draggable="true">Text</button>
        <button class="btn add-el" data-add="field" draggable="true">Field</button>
        <button class="btn add-el" data-add="rect" draggable="true">Rectangle</button>
        <button class="btn add-el" data-add="line" draggable="true">Line</button>
        <button class="btn add-el" data-add="image" draggable="true">Image</button>
        <button class="btn add-el" data-add="table" draggable="true">Table</button>
        <button class="btn add-el" data-add="block" draggable="true">Block</button>

        <!-- Layers and Brand sections removed per request -->
      </div>
      <div class="panel-resize-handle panel-resize-right" data-panel="elementsPanel"></div>
    </aside>

    <main class="workspace">
      <div id="pageViewport" style="padding-left: 166px; padding-right: 190px;">
        <div id="pagesList" aria-label="Pages list"><div class="page-wrapper" data-page-id="page-1758645925268-6kaag"><div class="page-title">
      <strong>Page 1</strong>
      <span style="margin-left:6px;color:var(--muted)">Page 1</span>
      <span class="title-actions" style="float:right;display:inline-flex;gap:6px">
        <button class="btn mini" data-act="move-up" title="Move up" aria-label="Move up">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 6l-6 6h12z" fill="currentColor"></path></svg>
        </button>
        <button class="btn mini" data-act="move-down" title="Move down" aria-label="Move down">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 18l6-6H6z" fill="currentColor"></path></svg>
        </button>
        <button class="btn mini" data-act="toggle-visibility" title="Show/Hide" aria-label="Show or hide">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M1.5 12s4-7.5 10.5-7.5S22.5 12 22.5 12s-4 7.5-10.5 7.5S1.5 12 1.5 12z" fill="none" stroke="currentColor" stroke-width="2"></path>
            <circle cx="12" cy="12" r="3" fill="currentColor"></circle>
          </svg>
        </button>
        <button class="btn mini" data-act="duplicate" title="Duplicate" aria-label="Duplicate">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
            <rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
          </svg>
        </button>
        <button class="btn mini" data-act="delete" title="Delete" aria-label="Delete">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
            <path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
            <rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
            <path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
        <button class="btn mini" data-act="add-below" title="Add page below" aria-label="Add page below">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </span></div><div class="page-stage"><div class="page" aria-label="A4 canvas"><div class="guide v hidden" style="left: 397px; top: 0px; height: 1123px;"></div><div class="guide h hidden" style="left: 0px; top: 312.266px; width: 794px;"></div><div class="hf-guide header" style="height: 10px; display: block;"><div class="hf-label"></div><div class="hf-resize"></div></div><div class="hf-guide footer" style="height: 10px; display: block;"><div class="hf-label"></div><div class="hf-resize"></div></div><div class="element rect" data-id="el-1" style="left: 220.844px; top: 106.5px; width: 411.879px; height: 411.531px; border-radius: 4px; background: rgb(219, 234, 254); border: 1px solid rgb(17, 24, 39); color: rgb(17, 24, 39); font-family: system-ui; font-size: 14pt; font-weight: 400; font-style: normal; text-decoration: none; transform-origin: 50% 50%; flex-direction: column; justify-content: flex-start; align-items: flex-start; text-align: left; z-index: 101; display: flex;">lefnlekfn3lkfn3klnf3pfoenpwen</div></div></div></div></div>
      </div>
    </main>

    <aside class="side right" id="propertiesPanel" style="width: 176px;">
      <div class="panel-resize-handle panel-resize-left" data-panel="propertiesPanel"></div>
      <div class="panel-header">
        <h3>Properties</h3>
        <button class="panel-toggle" id="propertiesToggle" title="Collapse/Expand Properties Panel" aria-label="Toggle Properties Panel" data-dir="left">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M15 6l-6 6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>
      <div class="panel-content">
        <div id="propertiesContent" class="props"></div>
        <div class="props" style="margin-top:12px;border-top:1px dashed var(--border);padding-top:8px">
          <div class="row"><label>Header height</label><input id="docHeaderHeight" type="number" min="0" value="10"></div>
          <div class="row"><label>Footer height</label><input id="docFooterHeight" type="number" min="0" value="10"></div>
        </div>
      </div>
    </aside>
  </div>
  <!-- Bottom-right floating zoom control -->
  <div class="zoom-control" id="zoomControl">
    <input id="zoomSlider" type="range" min="25" max="300" step="1" value="100">
    <span id="zoomLabel">100%</span>
  </div>
  <!-- aria-live region to announce selection and range changes for screen readers -->
  <div id="srAnnouncer" aria-live="polite" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden"></div>

  <div id="formatToolbar" class="floating hidden" role="toolbar" aria-label="Editing toolbar">
    <div class="row">
      <label>Fill <input class="circle" type="color" data-prop="styles.fill"></label>
      <label>Text <input class="circle" type="color" data-prop="styles.textColor"></label>
      <label>Stroke <input class="circle" type="color" data-prop="styles.strokeColor"></label>
      <label>Stroke W <input type="range" min="0" max="20" step="1" style="width:120px" data-prop="styles.strokeWidth"></label>
      <label>Radius <input type="range" min="0" max="60" step="1" style="width:120px" data-prop="styles.radius"></label>
      <label>Font <select data-prop="styles.fontFamily">
        <option value="system-ui">System</option>
        <option value="Arial">Arial</option>
        <option value="Helvetica Neue">Helvetica</option>
        <option value="Times New Roman">Times</option>
        <option value="Georgia">Georgia</option>
        <option value="Courier New">Courier</option>
      </select></label>
      <label>Size <select style="width:64px" data-prop="styles.fontSize">
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="14" selected="">14</option>
        <option value="16">16</option>
        <option value="18">18</option>
        <option value="20">20</option>
        <option value="24">24</option>
        <option value="28">28</option>
        <option value="32">32</option>
        <option value="36">36</option>
        <option value="48">48</option>
        <option value="72">72</option>
      </select></label>
      <button class="btn mini" data-toggle="styles.bold" title="Bold" aria-label="Bold" aria-pressed="false">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <text x="6" y="17" font-family="system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-size="16" font-weight="700" fill="currentColor">B</text>
        </svg>
      </button>
      <button class="btn mini" data-toggle="styles.italic" title="Italic" aria-label="Italic" aria-pressed="false">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <text x="8" y="17" font-family="system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-size="16" font-style="italic" fill="currentColor">I</text>
        </svg>
      </button>
      <button class="btn mini" data-toggle="styles.underline" title="Underline" aria-label="Underline" aria-pressed="false">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <text x="5" y="16" font-family="system-ui, -apple-system, 'Segoe UI', Roboto, Arial" font-size="16" font-weight="600" fill="currentColor">U</text>
          <line x1="5" y1="18" x2="19" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
        </svg>
      </button>
      <button class="btn mini align h-left" id="alignHBtn" data-align-h-cycle="" title="Horizontal align" aria-label="Horizontal align" aria-pressed="false">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <g class="h-icon h-left">
            <line x1="5" y1="7" x2="17" y2="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="17" x2="14" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
          <g class="h-icon h-center">
            <line x1="6" y1="7" x2="18" y2="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="7" y1="17" x2="17" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
          <g class="h-icon h-right">
            <line x1="7" y1="7" x2="19" y2="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="10" y1="17" x2="19" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
        </svg>
      </button>
      <button class="btn mini align v-top" id="alignVBtn" data-align-v-cycle="" title="Vertical align" aria-label="Vertical align" aria-pressed="false">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <g class="v-icon v-top">
            <line x1="7" y1="5" x2="7" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="17" y1="5" x2="17" y2="14" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="5" x2="19" y2="5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
          <g class="v-icon v-middle">
            <line x1="7" y1="7" x2="7" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="17" y1="8" x2="17" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
          <g class="v-icon v-bottom">
            <line x1="7" y1="7" x2="7" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="17" y1="10" x2="17" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
            <line x1="5" y1="19" x2="19" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
          </g>
        </svg>
      </button>
      <label class="btn" style="gap:6px; align-items:center"><input type="checkbox" id="bgTransparentToggle"> Transparent BG</label>
    </div>
  </div>

  <div id="lasso" hidden=""></div>
  <style>
    /* Suppress lasso only while header/footer resizing is active */
    .hf-resizing #lasso { display:none !important; }
  </style>
  <div id="selectionBox" class="selbox hidden" style="left: 386.844px; top: 244.5px; width: 411.879px; height: 411.531px; z-index: 800;">
    <div class="sb-h" data-handle="nw"></div>
    <div class="sb-h" data-handle="n"></div>
    <div class="sb-h" data-handle="ne"></div>
    <div class="sb-h" data-handle="e"></div>
    <div class="sb-h" data-handle="se"></div>
    <div class="sb-h" data-handle="s"></div>
    <div class="sb-h" data-handle="sw"></div>
    <div class="sb-h" data-handle="w"></div>
    <div class="sb-h" data-handle="move" title="Drag to move"></div>
    <div class="sb-h" data-handle="rotate" title="Drag to rotate"></div>
  </div>

  <div id="elementActions" class="actions hidden" role="toolbar" aria-label="Element actions" data-shown-at="1758862678968" style="left: 592.781px; top: 236.5px;">
    <button class="btn mini" data-action="copy" title="Copy" aria-label="Copy">
      <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
        <rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
        <rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
      </svg>
    </button>
    <button class="btn mini" data-action="delete" title="Delete" aria-label="Delete">
      <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
        <path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
        <rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
        <path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
      </svg>
    </button>
    <button class="btn mini" data-group-toggle="" title="Group/Ungroup" disabled="">Group</button>
    <div class="menu" style="position:relative">
      <button class="btn mini" data-menu="actions" title="More" aria-label="More actions">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="5" cy="12" r="2" fill="currentColor"></circle>
          <circle cx="12" cy="12" r="2" fill="currentColor"></circle>
          <circle cx="19" cy="12" r="2" fill="currentColor"></circle>
        </svg>
      </button>
  <div class="dropdown hidden" data-menu-panel="actions" style="position:absolute;top:36px;right:0;background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:8px;display:flex;flex-direction:column;gap:6px;min-width:160px">
        <div class="icon-row" style="display:flex;gap:6px;justify-content:space-between">
          <button class="btn mini" data-action="delete" title="Delete" aria-label="Delete">
            <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
              <path d="M8 6V4h8v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
              <rect x="6" y="6" width="12" height="14" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
              <path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
            </svg>
          </button>
          <button class="btn mini" data-action="duplicate" title="Duplicate" aria-label="Duplicate">
            <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <rect x="9" y="3" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
              <rect x="3" y="9" width="12" height="12" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"></rect>
            </svg>
          </button>
        </div>
        <div class="group">
          <div class="group-label">Align horizontally</div>
          <div class="icon-row">
            <button class="btn mini" data-align="left" title="Align left" aria-label="Align left">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 4v16M6 7h12v4H6zM6 15h8v4H6z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-align="center" title="Align center" aria-label="Align center">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M12 4v16M4 9h16v4H4z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-align="right" title="Align right" aria-label="Align right">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M20 4v16M6 7h12v4H6zM10 15h8v4h-8z" fill="currentColor"></path></svg>
            </button>
          </div>
        </div>
        <div class="group">
          <div class="group-label">Align vertically</div>
          <div class="icon-row">
            <button class="btn mini" data-align="top" title="Align top" aria-label="Align top">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 4h16M7 6v12h4V6zM15 6v8h4V6z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-align="middle" title="Align middle" aria-label="Align middle">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 12h16M7 6v12h4V6zM15 8v8h4V8z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-align="bottom" title="Align bottom" aria-label="Align bottom">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 20h16M7 6v12h4V6zM15 10v8h4v-8z" fill="currentColor"></path></svg>
            </button>
          </div>
        </div>
        <div class="group">
          <div class="group-label">Space evenly</div>
          <div class="icon-row">
            <button class="btn mini" data-distribute="h" title="Distribute horizontally" aria-label="Distribute horizontally">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 4v16M20 4v16M9 6h6v12H9z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-distribute="v" title="Distribute vertically" aria-label="Distribute vertically">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M4 4h16M4 20h16M6 9v6h12V9z" fill="currentColor"></path></svg>
            </button>
          </div>
        </div>
        <div class="group">
          <div class="group-label">Layers</div>
          <div class="icon-row">
            <button class="btn mini" data-z="front" title="Bring to front" aria-label="Bring to front">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M3 3h8v8H3zM13 13h8v8h-8zM8 16h8v-8H8z" fill="currentColor"></path></svg>
            </button>
            <button class="btn mini" data-z="up" title="Bring forward" aria-label="Bring forward">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 5h8v8H5z" fill="none" stroke="currentColor" stroke-width="2"></path>
                <path d="M11 11h8v8h-8z" fill="none" stroke="currentColor" stroke-width="2"></path>
              </svg>
            </button>
            <button class="btn mini" data-z="down" title="Send backward" aria-label="Send backward">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M11 11h8v8h-8z" fill="none" stroke="currentColor" stroke-width="2"></path>
                <path d="M5 5h8v8H5z" fill="none" stroke="currentColor" stroke-width="2"></path>
              </svg>
            </button>
            <button class="btn mini" data-z="back" title="Send to back" aria-label="Send to back">
              <svg class="icon" width="16" height="16" viewBox="0 0 24 24"><path d="M3 3h8v8H3zM13 13h8v8h-8zM10 10h8V2h-8z" fill="currentColor"></path></svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Minimal floating table action bar (appears when a table is selected) -->
  <div id="tableActions" class="hidden" role="toolbar" aria-label="Table actions">
    <button class="btn mini" data-tact="row-add">+ Row</button>
    <button class="btn mini" data-tact="col-add">+ Col</button>
    <button class="btn mini" data-tact="row-del">Del Row</button>
    <button class="btn mini" data-tact="col-del">Del Col</button>
    <button class="btn mini" data-tact="merge">Merge</button>
    <button class="btn mini" data-tact="unmerge">Unmerge</button>
    <div class="menu" style="position:relative">
      <button class="btn mini" data-menu="borders">Borders</button>
      <div class="dropdown hidden" data-menu-panel="borders" style="position:absolute;top:36px;left:0;background:#fff;border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow);padding:8px;display:flex;flex-direction:column;gap:8px;min-width:220px">
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:6px">
          <button class="btn mini" data-borders="all" title="All">All</button>
          <button class="btn mini" data-borders="outer" title="Outer">Outer</button>
          <button class="btn mini" data-borders="inner" title="Inner">Inner</button>
          <button class="btn mini" data-borders="none" title="None">None</button>
          <button class="btn mini" data-borders="top" title="Top">Top</button>
          <button class="btn mini" data-borders="right" title="Right">Right</button>
          <button class="btn mini" data-borders="bottom" title="Bottom">Bottom</button>
          <button class="btn mini" data-borders="left" title="Left">Left</button>
        </div>
        <div style="display:flex;align-items:center;gap:8px">
          <label>Color <input type="color" id="tblBorderColor" value="#000000"></label>
          <label>Width <input type="range" id="tblBorderWidth" min="0" max="12" step="1" value="1" style="width:120px"></label>
        </div>
      </div>
    </div>
  </div>

  <!-- Table context menu -->
  <div id="tableMenu" class="hidden" style="position:fixed; z-index:1101; background:#fff; border:1px solid var(--border); border-radius:8px; box-shadow:var(--shadow); padding:6px; display:flex; flex-direction:column; gap:4px; min-width:180px">
    <button class="btn mini" data-tm="merge">Merge cells</button>
    <button class="btn mini" data-tm="unmerge">Unmerge</button>
    <hr>
    <button class="btn mini" data-tm="row-insert-above">Insert row above</button>
    <button class="btn mini" data-tm="row-insert-below">Insert row below</button>
    <button class="btn mini" data-tm="row-delete">Delete row</button>
    <hr>
    <button class="btn mini" data-tm="col-insert-left">Insert column left</button>
    <button class="btn mini" data-tm="col-insert-right">Insert column right</button>
    <button class="btn mini" data-tm="col-delete">Delete column</button>
  </div>

  <!-- Element context menu -->
  <div id="elementMenu" class="hidden" style="position:fixed; z-index:1101; background:#fff; border:1px solid var(--border); border-radius:8px; box-shadow:var(--shadow); padding:6px; display:flex; flex-direction:column; gap:4px; min-width:200px">
    <button class="btn mini" data-em="duplicate">Duplicate (Ctrl+D)</button>
    <button class="btn mini" data-em="delete">Delete (Del)</button>
    <hr>
    <button class="btn mini" data-em="group">Group</button>
    <button class="btn mini" data-em="ungroup">Ungroup</button>
    <hr>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:4px">
      <button class="btn mini" data-em="align-left">Align Left</button>
      <button class="btn mini" data-em="align-center">Align Center</button>
      <button class="btn mini" data-em="align-right">Align Right</button>
      <button class="btn mini" data-em="align-top">Align Top</button>
      <button class="btn mini" data-em="align-middle">Align Middle</button>
      <button class="btn mini" data-em="align-bottom">Align Bottom</button>
    </div>
    <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:4px;margin-top:4px">
      <button class="btn mini" data-em="distribute-h">Distribute H</button>
      <button class="btn mini" data-em="distribute-v">Distribute V</button>
    </div>
    <hr>
    <button class="btn mini" data-em="z-front">Bring to front</button>
    <button class="btn mini" data-em="z-back">Send to back</button>
  </div>

  <!-- Command Palette -->
  <div id="commandPalette" class="hidden" role="dialog" aria-modal="true" aria-label="Command palette" style="position:fixed;inset:0;display:grid;place-items:center;z-index:1200;background:rgba(0,0,0,.2)">
    <div class="cpanel" style="background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);width:min(640px,90vw);">
      <input id="commandInput" type="text" placeholder="Type a command… (Esc to close)" style="width:100%;box-sizing:border-box;padding:10px 12px;border:0;border-bottom:1px solid var(--border);border-radius:12px 12px 0 0;font-size:14px;outline:none">
      <div id="commandList" style="max-height:300px;overflow:auto;padding:6px;display:flex;flex-direction:column;gap:4px"></div>
    </div>
  </div>

  

  <!-- Rulers (top/left) and Minimap -->
  <div id="rulers" class="hidden" aria-hidden="true" style="display:none">
    <div id="rulerH" class="ruler h" style="background-image: linear-gradient(to right, transparent 0px, transparent 9px, rgb(221, 221, 221) 9px, rgb(221, 221, 221) 10px); background-size: 10px 100%;"></div>
    <div id="rulerV" class="ruler v" style="background-image: linear-gradient(transparent 0px, transparent 9px, rgb(221, 221, 221) 9px, rgb(221, 221, 221) 10px); background-size: 100% 10px;"></div>
  </div>
  <canvas id="minimap" class="hidden" width="180" height="120" style="display:none;position:fixed;right:16px;bottom:16px;border:1px solid var(--border);border-radius:6px;background:#fff;box-shadow:var(--shadow);z-index:1050"></canvas>

  
  </div> <!-- /#editorView -->
  
  <!-- Settings dialog (global; available in hub and editor) -->
  <div id="settingsDialog" class="hidden" role="dialog" aria-modal="true" aria-label="Settings" style="position:fixed;inset:0;display:grid;place-items:center;z-index:1200;background:rgba(0,0,0,.2)">
    <div class="cpanel" style="background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);width:min(420px,90vw);padding:12px 12px 10px 12px">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px">
        <h3 style="margin:0;font-size:16px">Settings</h3>
        <button class="btn mini" id="settingsCloseBtn" aria-label="Close settings">Close</button>
      </div>
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
        <div>
          <div style="font-weight:600">Autosave</div>
          <div style="font-size:12px;color:#555">When on, hub docs are saved to this file automatically.</div>
        </div>
        <label class="switch"><input id="autosaveToggle" type="checkbox" checked=""><span>On</span></label>
      </div>
    </div>
  </div>

  <!-- Internal confirmation dialog (reusable) -->
  <div id="confirmDialog" class="hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle" style="position:fixed;inset:0;display:grid;place-items:center;z-index:1250;background:rgba(0,0,0,.25)">
    <div class="cpanel" style="background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);width:min(460px,92vw);padding:14px">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px">
        <h3 id="confirmTitle" style="margin:0;font-size:16px">Confirm</h3>
        <button class="btn mini" id="confirmCloseBtn" aria-label="Close">Close</button>
      </div>
      <div id="confirmMessage" style="font-size:14px;color:#374151;margin-bottom:12px"></div>
      <div id="confirmButtons" style="display:flex;gap:8px;justify-content:flex-end"></div>
    </div>
  </div>


<div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div class="custom-color-picker hidden" style="left: 121.738px; top: 77.4609px;">
    <div class="color-picker-section">
      <h4>Recent Colors</h4>
      <div class="color-history-grid" id="colorHistoryGrid"><div class="color-history-circle" title="#fafafa" data-color="#fafafa" style="background-color: rgb(250, 250, 250);"></div><div class="color-history-circle" title="#787878" data-color="#787878" style="background-color: rgb(120, 120, 120);"></div><div class="color-history-circle" title="#e60505" data-color="#e60505" style="background-color: rgb(230, 5, 5);"></div><div class="color-history-circle" title="#f3f1f1" data-color="#f3f1f1" style="background-color: rgb(243, 241, 241);"></div><div class="color-history-circle" title="#7ec874" data-color="#7ec874" style="background-color: rgb(126, 200, 116);"></div><div class="color-history-circle" title="#e6e6e6" data-color="#e6e6e6" style="background-color: rgb(230, 230, 230);"></div><div class="color-history-circle" title="#e8a6a6" data-color="#e8a6a6" style="background-color: rgb(232, 166, 166);"></div><div class="color-history-circle" title="#a2b9d7" data-color="#a2b9d7" style="background-color: rgb(162, 185, 215);"></div></div>
    </div>
    <div class="color-picker-section">
      <h4>Custom Color</h4>
      <div class="color-picker-input-wrapper">
        <input type="color" id="customColorInput" value="#000000">
        <input type="text" class="color-picker-hex" id="colorHexInput" placeholder="#000000">
      </div>
    </div>
  </div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div><div style="position: fixed; bottom: 10px; left: 10px; padding: 8px 12px; background: rgb(255, 255, 221); border: 1px solid rgb(204, 204, 153); cursor: pointer; z-index: 99999; font-size: 12px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px;">Click to enable silent disk saves (optional)</div></body></html>